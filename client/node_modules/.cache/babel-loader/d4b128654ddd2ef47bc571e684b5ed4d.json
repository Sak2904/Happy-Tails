{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\Projects\\\\petAdoption\\\\client\\\\src\\\\pages\\\\servicesList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nconst ServiceList = ({\n  isAdmin\n}) => {\n  const {\n    serviceType\n  } = useParams(); // Get selected service type from URL\n  const [services, setServices] = useState([]);\n\n  // Fetch services from backend\n  useEffect(() => {\n    const fetchServices = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/services?type=${serviceType}`);\n        setServices(response.data);\n      } catch (error) {\n        console.error(\"Error fetching services:\", error);\n      }\n    };\n    fetchServices();\n  }, [serviceType]); // Refetch when serviceType changes\n\n  // Delete service function (only for admin)\n  const handleDelete = async id => {\n    if (!isAdmin) return;\n    try {\n      await axios.delete(`http://localhost:5000/api/services/${id}`);\n      setServices(services.filter(service => service._id !== id)); // Update UI\n    } catch (error) {\n      console.error(\"Error deleting service:\", error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"service-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, serviceType, \" Centers\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"service-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, services.map(service => /*#__PURE__*/React.createElement(\"li\", {\n    key: service._id,\n    className: \"service-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, service.name), serviceType === \"grooming\" && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 42\n    }\n  }, \"\\uD83D\\uDCB0 From \\u20B9\", service.price), serviceType === \"daycare\" && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 41\n    }\n  }, \"\\uD83D\\uDCB0 \\u20B9\", service.price, \"/hour\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"\\uD83D\\uDCCD \", service.address), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"\\uD83D\\uDCDE \", service.contact), serviceType === \"grooming\" && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"\\uD83D\\uDCB0 From \\u20B9\", service.price), serviceType === \"daycare\" && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"\\uD83D\\uDCB0 \\u20B9\", service.price, \"/hour\"), isAdmin && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDelete(service._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Delete\")))));\n};\nexport default ServiceList;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","ServiceList","isAdmin","serviceType","services","setServices","fetchServices","response","get","data","error","console","handleDelete","id","delete","filter","service","_id","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","key","style","display","justifyContent","alignItems","margin","name","price","address","contact","onClick"],"sources":["C:/Users/Lenovo/Desktop/Projects/petAdoption/client/src/pages/servicesList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst ServiceList = ({ isAdmin }) => {\r\n  const { serviceType } = useParams(); // Get selected service type from URL\r\n  const [services, setServices] = useState([]);\r\n\r\n  // Fetch services from backend\r\n  useEffect(() => {\r\n    const fetchServices = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/services?type=${serviceType}`);\r\n        setServices(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching services:\", error);\r\n      }\r\n    };\r\n\r\n    fetchServices();\r\n  }, [serviceType]); // Refetch when serviceType changes\r\n\r\n  // Delete service function (only for admin)\r\n  const handleDelete = async (id) => {\r\n    if (!isAdmin) return;\r\n\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/services/${id}`);\r\n      setServices(services.filter((service) => service._id !== id)); // Update UI\r\n    } catch (error) {\r\n      console.error(\"Error deleting service:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"service-list-container\">\r\n      <h1>{serviceType} Centers</h1>\r\n      <ul className=\"service-list\">\r\n        {services.map((service) => (\r\n          <li key={service._id} className=\"service-item\">\r\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n          <h3 style={{ margin: 0 }}>{service.name}</h3>\r\n          {serviceType === \"grooming\" && <p style={{ margin: 0 }}>üí∞ From ‚Çπ{service.price}</p>}\r\n          {serviceType === \"daycare\" && <p style={{ margin: 0 }}>üí∞ ‚Çπ{service.price}/hour</p>}\r\n        </div>\r\n\r\n            {/* eslint-disable-next-line */}\r\n            <p>üìç {service.address}</p>\r\n            {/* eslint-disable-next-line */}\r\n            <p>üìû {service.contact}</p>\r\n\r\n            {/* üí∞ Pricing Display Logic */}\r\n              {serviceType === \"grooming\" && (\r\n                <p>üí∞ From ‚Çπ{service.price}</p>\r\n              )}\r\n              {serviceType === \"daycare\" && (\r\n                <p>üí∞ ‚Çπ{service.price}/hour</p>\r\n              )}\r\n            {isAdmin && (\r\n              <button onClick={() => handleDelete(service._id)}>Delete</button>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ServiceList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}