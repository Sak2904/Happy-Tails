{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\Projects\\\\petAdoption\\\\client\\\\src\\\\pages\\\\UserDashboard.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\"; // Ensure correct path\n\nconst UserDashboard = () => {\n  const {\n    user\n  } = useContext(AuthContext); // Get user from context\n  const [requests, setRequests] = useState([]); // Initialize requests state\n\n  const userId = user ? user._id : null; // Ensure userId exists\n\n  useEffect(() => {\n    if (!userId) return;\n    const fetchRequests = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/adoption-requests/user/${userId}`);\n        setRequests(response.data);\n      } catch (error) {\n        console.error(\"Error fetching user requests:\", error);\n      }\n    };\n    fetchRequests();\n\n    // Live update: Set up polling every 5 seconds\n    const interval = setInterval(fetchRequests, 5000);\n    return () => clearInterval(interval); // Cleanup on unmount\n  }, [userId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"Your Adoption Requests\"), requests.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"requests-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, requests.map(req => /*#__PURE__*/React.createElement(\"div\", {\n    key: req._id,\n    className: \"request-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, req.petName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 18\n    }\n  }, \"Status:\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: `status ${req.status}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 43\n    }\n  }, req.status || \"Pending\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 18\n    }\n  }, \"Reason:\"), \" \", req.reason)))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"No adoption requests found.\"));\n};\nexport default UserDashboard;","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","AuthContext","UserDashboard","user","requests","setRequests","userId","_id","fetchRequests","response","get","data","error","console","interval","setInterval","clearInterval","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","req","key","petName","status","reason"],"sources":["C:/Users/Lenovo/Desktop/Projects/petAdoption/client/src/pages/UserDashboard.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../context/AuthContext\"; // Ensure correct path\r\n\r\nconst UserDashboard = () => {\r\n  const { user } = useContext(AuthContext); // Get user from context\r\n  const [requests, setRequests] = useState([]); // Initialize requests state\r\n\r\n  const userId = user ? user._id : null; // Ensure userId exists\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n\r\n    const fetchRequests = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/adoption-requests/user/${userId}`);\r\n        setRequests(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching user requests:\", error);\r\n      }\r\n    };\r\n\r\n    fetchRequests();\r\n\r\n    // Live update: Set up polling every 5 seconds\r\n    const interval = setInterval(fetchRequests, 5000);\r\n\r\n    return () => clearInterval(interval); // Cleanup on unmount\r\n  }, [userId]);\r\n\r\n  return (\r\n    <div className=\"user-dashboard\">\r\n      <h2>Your Adoption Requests</h2>\r\n      {requests.length > 0 ? (\r\n        <div className=\"requests-list\">\r\n          {requests.map((req) => (\r\n            <div key={req._id} className=\"request-item\">\r\n              <h3>{req.petName}</h3>\r\n              <p><strong>Status:</strong> <span className={`status ${req.status}`}>{req.status || \"Pending\"}</span></p>\r\n              <p><strong>Reason:</strong> {req.reason}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p>No adoption requests found.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}